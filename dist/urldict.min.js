!function(){"use strict";function a(a){if(void 0===a&&"undefined"==typeof location)throw new Error("On platforms where global 'location' is not defined you must provide a base URL when creating a new UrlDict object.");if(a=a||location.href,a.split("?").length-1>1)throw new Error("UrlDict does not support '?' inside parameters.");if(a.split("#").length-1>1)throw new Error("UrlDict does not support '#' inside parameters.");this._baseUrl=a.split("?")[0].split("#")[0];var c=a.split("#")[0].split("?")[1]||"",d=a.split("#")[1];this._getParams=this._breakParams(c),this._hashParams=this._breakParams(d),this.GET=new b(this._getParams),this.HASH=new b(this._hashParams)}function b(a){this._dict=a}if(a.prototype={getBaseUrl:function(){return this._baseUrl},setBaseUrl:function(a){this._baseUrl=a},toUrl:function(){var a=this.GET.toString(),b=this.HASH.toString();return this._baseUrl+(a?"?"+a:"")+(b?"#"+b:"")},clearParams:function(){this.GET.clear(),this.HASH.clear()},_processVal:function(a){try{return JSON.parse(a)}catch(b){return a}},_breakParams:function(a){if(!a)return{};var b={},c=a.split("&"),d=this;return c.forEach(function(a){var c=a.split("=")[0],e=d._processVal(a.substring(c.length+1));b[c]=e}),b},asDict:function(){return{GET:this._getParams,HASH:this._hashParams}}},b.prototype={_dict:null,asDict:function(){return this._dict},toString:function(){var a=[];for(var b in this._dict){var c=this._dict[b];a.push(b+"="+("string"==typeof c?c:JSON.stringify(c)))}return a.join("&")},set:function(a,b){this._dict[a]=b},get:function(a){return this._dict[a]},remove:function(a){delete this._dict[a]},clear:function(){for(var a in this._dict)this._dict.hasOwnProperty(a)&&delete this._dict[a]}},"undefined"!=typeof module&&module.exports)module.exports=a;else{if("undefined"==typeof window)return a;window.UrlDict=a}}();